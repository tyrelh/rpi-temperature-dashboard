import React, {useState} from 'react';
import type { NextPage } from 'next';
import Head from 'next/head';
import {LineChart, Line, XAxis, YAxis} from "recharts";

function generateDummyData() {
  const data = [];
  let lastValue = 20;
  let lastTime = 1650677189006;
  for (let i = 2; i > 0; i--) {
    const r1 = Math.random() * (i == 2 ? 1 : -1);
    for (let j = 50; j > 0; j--) {
      const r2 = Math.random()
      lastValue = lastValue + (r1 * r2);
      lastTime = lastTime + 1000;
      data.push({
        "uuid": Math.random().toString(),
        "time": lastTime,
        "location": "sunroom",
        "value": lastValue
      });
    }
  }
  return data
}

const Home: NextPage = () => {
  // const [sidebarCollapsed, setSidebarCollapsed] = useState(false);

  // function toggle () {
  //   setSidebarCollapsed(!sidebarCollapsed)
  // };

  const data = generateDummyData()

  return (
    <div>
      <Head>
        <title>Create Next App</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <h1 className="text-3xl font-bold underline">Hello world!</h1>
      <LineChart height={400} width={800} data={data}>
        <Line type="monotone" dataKey="value" stroke="#778799"/>
        <XAxis dataKey="time" />
        <YAxis />
      </LineChart>
    </div>
  )
}

export default Home
